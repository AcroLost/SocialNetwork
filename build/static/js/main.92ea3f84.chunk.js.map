{"version":3,"sources":["components/common/FormsControls/FormsControls.js","components/Navbar/Friends/Friends.module.css","utils/validators/validators.js","components/Users/Users.module.css","redux/profileReducer.js","image/ava.jpg","redux/dialogsReducer.js","api/api.js","components/Navbar/Navbar.module.css","components/Navbar/Navbar.js","utils/object-helpers.js","redux/usersReducer.js","components/Users/User.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/authReducer.js","components/Header/HeaderContainer.js","components/Login/LoginForm/LoginForm.js","components/Login/Login.js","redux/appReducer.js","redux/sidebarReducer.js","redux/reduxStore.js","hoc/withLazySuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","components/Header/Header.module.css"],"names":["FormControl","input","meta","touched","error","children","hasError","className","s","formControl","Textarea","props","restProps","Input","module","exports","required","value","maxLength","max","length","ADD_POST","initialState","postsData","id","message","likesCount","profile","status","addPostActionCreator","postText","type","setUserStatusAC","setUserProfile","userId","dispatch","a","profileAPI","profileUser","res","data","setUserStatusThunk","setUserStatus","updateUserStatusThunk","updateUserStatus","resultCode","profileReducer","state","action","newPost","filter","item","postId","dialogsData","name","messagesData","sendMessageActionCreator","messageText","dialogsReducer","newMessage","instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","selectedPage","pageSize","get","then","followUser","post","unfollowUser","delete","put","authAPI","authUser","logInUser","email","password","rememberMe","logOutUser","Navbar","sidebar","nav","to","activeClassName","activeLink","href","updateObjectInArray","items","itemId","objPropName","newObjectProps","map","u","users","totalUsersCount","currentPage","isLoading","followingInProgress","followAC","unfollowAC","setUsersAC","setTotalUsersCountAC","isLoadingAC","toggleFollowingProgressAC","followUnfollow","apiMethod","actionCreator","usersReducer","followed","User","user","follow","unfollow","src","photos","small","userPhoto","alt","loading","some","onClick","Users","onPageChanged","current","onChange","total","key","getUsersList","usersPage","getTotalUsersCount","getPageSize","getCurrentPage","getFollowingInProgress","getIsLoading","UsersContainer","pageNumber","setCurrentPage","this","toggleFollowingProgress","size","React","Component","connect","setCurrentPageAC","totalCount","Header","auth","login","isAuth","header","loginBlock","userName","logout","setUserDataAC","setUserData","authReducer","HeaderContainer","LoginForm","handleSubmit","onSubmit","errorBlock","Field","component","placeholder","validate","reduxForm","form","messages","stopSubmit","_error","initialized","appReducer","friends","photo","sidebarReducer","reducers","combineReducers","profilePage","dialogsPage","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","withLazySuspense","fallback","ProfileContainer","lazy","DialogsContainer","App","initializeApp","path","render","AppContainer","withRouter","MainApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.92ea3f84.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport s from './FormsControls.module.css';\r\n\r\n\r\n\r\nexport const FormControl = ({ input, meta: { touched, error }, children, ...restProps }) => {\r\n\r\n    const hasError = touched && error;\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError && s.error)}>\r\n\r\n            {children}\r\n\r\n            {hasError && <p>{error}</p>}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\n\r\nexport const Textarea = (props) => {\r\n\r\n    const { input, meta, ...restProps } = props;\r\n\r\n    return <FormControl {...props}>\r\n\r\n        <textarea {...input} {...restProps} />\r\n    </FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n\r\n    const { input, ...restProps } = props;\r\n\r\n    return <FormControl {...props}>\r\n\r\n        <input {...input} {...restProps} />\r\n    </FormControl>\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsBlock\":\"Friends_friendsBlock__2HedO\",\"friends\":\"Friends_friends__jx6Te\",\"friend\":\"Friends_friend__2Vm7d\"};","\r\nexport const required = (value) => {\r\n    if (value) {\r\n        return undefined\r\n    }\r\n    return 'Required field'\r\n}\r\n\r\nexport const maxLength = (max) => (value) => {\r\n\r\n    if (value && value.length > max) {\r\n        return `Must be ${max} characters or less`\r\n    }\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"Users_user__2XG4Z\",\"userPhoto\":\"Users_userPhoto__x1tGy\"};","import { profileAPI } from \"../api/api\";\r\n\r\nconst ADD_POST = 'profile/ADD_POST',\r\n    SET_USER_PROFILE = 'profile/SET_USER_PROFILE',\r\n    SET_USER_STATUS = 'profile/SET_USER_STATUS',\r\n    DELETE_POST = 'profile/DELETE_POST';\r\n\r\nconst initialState = {\r\n\r\n    postsData: [\r\n        { id: 1, message: 'Hi', likesCount: 10 },\r\n        { id: 2, message: 'first post', likesCount: 15 }\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            const newPost = {\r\n                id: 3,\r\n                message: action.postText,\r\n                likesCount: 5\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                postsData: [...state.postsData, newPost]\r\n            }\r\n\r\n        case SET_USER_PROFILE:\r\n\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n\r\n        case SET_USER_STATUS:\r\n\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n\r\n        case DELETE_POST:\r\n\r\n            return {\r\n                ...state,\r\n                postsData: state.postsData.filter((item) => {\r\n                    return item.id !== action.postId\r\n                })\r\n            }\r\n\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const addPostActionCreator = (postText) => {\r\n    return { type: ADD_POST, postText }\r\n}\r\n\r\nexport const setUserProfileAC = (profile) => {\r\n    return { type: SET_USER_PROFILE, profile }\r\n}\r\n\r\nexport const setUserStatusAC = (status) => {\r\n    return { type: SET_USER_STATUS, status }\r\n}\r\n\r\nexport const deletePostAC = (postId) => {\r\n    return { type: DELETE_POST, postId }\r\n}\r\n\r\nexport const setUserProfile = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const res = await profileAPI.profileUser(userId)\r\n\r\n        dispatch(setUserProfileAC(res.data));\r\n\r\n    }\r\n}\r\n\r\nexport const setUserStatusThunk = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const res = await profileAPI.setUserStatus(userId)\r\n\r\n        dispatch(setUserStatusAC(res.data));\r\n    }\r\n}\r\n\r\nexport const updateUserStatusThunk = (status) => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const res = await profileAPI.updateUserStatus(status)\r\n\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setUserStatusAC(status));\r\n        }\r\n    }\r\n}\r\n\r\nexport default profileReducer;","module.exports = __webpack_public_path__ + \"static/media/ava.e4a4fd5a.jpg\";","const SEND_MESSAGE = 'dialogs/SEND_MESSAGE';\r\n\r\nconst initialState = {\r\n\r\n    dialogsData: [\r\n        { id: 1, name: 'Артем' },\r\n        { id: 2, name: 'Маша' },\r\n        { id: 3, name: 'Катя' }\r\n    ],\r\n    messagesData: [\r\n        { id: 1, message: 'Hi' },\r\n        { id: 2, message: 'Yo' },\r\n        { id: 3, message: 'Come on' }\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case SEND_MESSAGE:\r\n            const newMessage = {\r\n                id: 4,\r\n                message: action.messageText,\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, newMessage]\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageActionCreator = (messageText) => {\r\n    return { type: SEND_MESSAGE, messageText }\r\n}\r\n\r\nexport default dialogsReducer;","import * as axios from 'axios';\r\n\r\n\r\nlet instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': 'b4f99289-4387-4890-a9a9-fbce3d7bca05'\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(selectedPage = 1, pageSize = 5) {\r\n        return instance.get(`users/?page=${selectedPage}&count=${pageSize}`)\r\n            .then((res) => {\r\n                return res.data\r\n            })\r\n    },\r\n\r\n    followUser(userId) {\r\n\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n\r\n    unfollowUser(userId) {\r\n\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n\r\n    profileUser(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n\r\n    setUserStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n\r\n    updateUserStatus(status) {\r\n        return instance.put(`profile/status`, { status: status })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n\r\n    authUser() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n\r\n    logInUser(email, password, rememberMe) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe });\r\n    },\r\n\r\n    logOutUser() {\r\n        return instance.delete(`auth/login`);\r\n    },\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__12rWZ\",\"item\":\"Navbar_item__2IXcX\",\"activeLink\":\"Navbar_activeLink__2apJJ\"};","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\nimport Friends from './Friends/Friends';\r\n\r\n\r\n\r\nconst Navbar = ({ sidebar }) => {\r\n\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/profile\" activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <a href=\"#s\">News</a>\r\n        </div>\r\n        <div className={s.item}>\r\n            <a href=\"#s\">Music</a>\r\n        </div>\r\n        <div className={s.item}>\r\n            <a href=\"#s\">Settings</a>\r\n        </div>\r\n\r\n        {/* <Friends friends={sidebar.friends} /> */}\r\n\r\n\r\n    </nav>\r\n}\r\n\r\nexport default Navbar;","export const updateObjectInArray = (items, itemId, objPropName, newObjectProps) => {\r\n\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return { ...u, ...newObjectProps }\r\n        }\r\n        return u;\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\nconst FOLLOW = 'user/FOLLOW',\r\n    UNFOLLOW = 'user/UNFOLLOW',\r\n    SET_USERS = 'user/SET_USERS',\r\n    SET_CURRENT_PAGE = 'user/SET_CURRENT_PAGE',\r\n    SET_TOTAL_USERS_COUNT = 'user/SET_TOTAL_USERS_COUNT',\r\n    IS_LOADING = 'user/IS_LOADING',\r\n    TOGGLE_IS_FOLLOWING_PROGRESS = 'user/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst initialState = {\r\n    users: [],\r\n    pageSize: 5,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isLoading: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: true })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectInArray(state.users, action.userId, \"id\", { followed: false })\r\n            }\r\n        case SET_USERS: {\r\n            return { ...state, users: action.users }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.totalUsersCount }\r\n        }\r\n        case IS_LOADING: {\r\n            return { ...state, isLoading: action.isLoading }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isLoading\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport const followAC = (userId) => {\r\n    return { type: FOLLOW, userId }\r\n}\r\n\r\nexport const unfollowAC = (userId) => {\r\n    return { type: UNFOLLOW, userId }\r\n}\r\n\r\nexport const setUsersAC = (users) => {\r\n    return { type: SET_USERS, users }\r\n}\r\n\r\nexport const setCurrentPageAC = (currentPage) => {\r\n    return { type: SET_CURRENT_PAGE, currentPage }\r\n}\r\n\r\nexport const setTotalUsersCountAC = (totalUsersCount) => {\r\n    return { type: SET_TOTAL_USERS_COUNT, totalUsersCount }\r\n}\r\n\r\nexport const isLoadingAC = (isLoading) => {\r\n    return { type: IS_LOADING, isLoading }\r\n}\r\n\r\nexport const toggleFollowingProgressAC = (isLoading, userId) => {\r\n    return { type: TOGGLE_IS_FOLLOWING_PROGRESS, isLoading, userId }\r\n}\r\n\r\nexport const getUsers = (currentPage, pageSize) => {\r\n\r\n    return async (dispatch) => {\r\n        dispatch(isLoadingAC(true));\r\n\r\n        const data = await usersAPI.getUsers(currentPage, pageSize)\r\n\r\n        dispatch(isLoadingAC(false));\r\n        dispatch(setUsersAC(data.items));\r\n        dispatch(setTotalUsersCountAC(data.totalCount));\r\n    }\r\n}\r\n\r\nconst followUnfollow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgressAC(true, userId));\r\n\r\n    const response = await apiMethod;\r\n\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(actionCreator(userId));\r\n    }\r\n    dispatch(toggleFollowingProgressAC(false, userId));\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        const apiMethod = usersAPI.unfollowUser(userId);\r\n        followUnfollow(dispatch, userId, apiMethod, unfollowAC);\r\n    }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n\r\n    return async (dispatch) => {\r\n        const apiMethod = usersAPI.followUser(userId);\r\n        followUnfollow(dispatch, userId, apiMethod, followAC);\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React from 'react';\r\nimport s from \"./Users.module.css\";\r\nimport userPhoto from \"../../image/ava.jpg\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Button } from 'antd';\r\n\r\nconst User = ({ user, followingInProgress, follow, unfollow }) => {\r\n\r\n  return (\r\n    <div className={s.user}>\r\n      <div>\r\n        <NavLink to={'/profile/' + user.id}>\r\n          <img src={user.photos.small != null ? user.photos.small : userPhoto}\r\n            className={s.userPhoto} alt=\"avatar\" />\r\n        </NavLink>\r\n\r\n        <p>\r\n          {user.followed\r\n\r\n            ? <Button type=\"primary\"\r\n              loading={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n\r\n                unfollow(user.id)\r\n              }}>Unfollow</Button>\r\n\r\n            : <Button type=\"primary\"\r\n              loading={followingInProgress.some(id => id === user.id)} onClick={() => {\r\n\r\n                follow(user.id)\r\n              }}>Follow</Button>}\r\n\r\n        </p>\r\n      </div>\r\n\r\n      <div>\r\n        <p>{user.name}</p>\r\n        <p>{user.status}</p>\r\n      </div>\r\n      <div>\r\n        <p>{\"user.location.country\"}</p>\r\n        <p>{\"user.location.city\"}</p>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport { Pagination } from 'antd';\r\nimport User from './User';\r\n\r\nconst Users = ({ totalUsersCount, currentPage, users, followingInProgress, onPageChanged, follow, unfollow }) => {\r\n\r\n\r\n  return <div>\r\n    <div>\r\n      <Pagination current={currentPage}\r\n        onChange={onPageChanged}\r\n        total={totalUsersCount} />\r\n    </div>\r\n    {\r\n      users.map(user =>\r\n        <User user={user}\r\n          followingInProgress={followingInProgress}\r\n          follow={follow}\r\n          unfollow={unfollow}\r\n          key={user.id} />)\r\n    }\r\n  </div>\r\n}\r\n\r\nexport default Users;","\r\nexport const getUsersList = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}\r\n\r\nexport const getIsLoading = (state) => {\r\n    return state.usersPage.isLoading\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n    follow,\r\n    setCurrentPageAC,\r\n    setUsersAC,\r\n    setTotalUsersCountAC,\r\n    unfollow, toggleFollowingProgressAC, getUsers,\r\n} from '../../redux/usersReducer';\r\n\r\nimport Users from './Users';\r\n\r\nimport { Spin } from 'antd';\r\n\r\nimport { getUsersList, getTotalUsersCount, getPageSize, getFollowingInProgress, getCurrentPage, getIsLoading } from '../../redux/users-selectors';\r\n\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        const { currentPage, pageSize } = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const { pageSize } = this.props;\r\n\r\n        this.props.getUsers(pageNumber, pageSize);\r\n        this.props.setCurrentPage(pageNumber);\r\n    }\r\n\r\n    render() {\r\n\r\n        const { users, totalUsersCount, pageSize, currentPage, followingInProgress, isLoading, follow, unfollow, toggleFollowingProgress } = this.props\r\n\r\n        if (isLoading) {\r\n            return <Spin size=\"large\" />\r\n        }\r\n\r\n        return (\r\n            <Users\r\n                users={users}\r\n                totalUsersCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n                followingInProgress={followingInProgress}\r\n                onPageChanged={this.onPageChanged}\r\n                follow={follow}\r\n                unfollow={unfollow}\r\n                toggleFollowingProgress={toggleFollowingProgress}\r\n            />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsersList(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        pageSize: getPageSize(state),\r\n        currentPage: getCurrentPage(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isLoading: getIsLoading(state)\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,\r\n    {\r\n        follow, unfollow, setUsersAC,\r\n        setCurrentPageAC, setTotalUsersCountAC, toggleFollowingProgressAC, getUsers\r\n\r\n    })(UsersContainer);","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = ({ auth, logOutUser }) => {\r\n\r\n    const { email, login, isAuth } = auth;\r\n\r\n    return <header className={s.header}>\r\n        <img src='https://upload.wikimedia.org/wikipedia/commons/b/be/Lineage_OS_Logo.png' alt=\"logo\" />\r\n\r\n\r\n        <div className={s.loginBlock}>\r\n            {isAuth\r\n                ? <div>\r\n                    <span className={s.userName}>{login} </span>\r\n                    <span>||</span>\r\n                    <span className={s.logout} onClick={logOutUser}> Log out</span>\r\n                </div>\r\n\r\n                : <NavLink to={'/login'}>\r\n                    Login\r\n                  </NavLink>}\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header;","import { authAPI } from \"../api/api\";\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nconst initialState = {\r\n    id: null,\r\n    login: null,\r\n    email: null,\r\n    isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n\r\n            return {\r\n                ...state,\r\n                ...action.data\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setUserDataAC = (id, login, email, isAuth) => {\r\n    return { type: SET_USER_DATA, data: { id, login, email, isAuth } }\r\n}\r\n\r\nexport const setUserData = () => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const res = await authAPI.authUser()\r\n\r\n        if (res.data.resultCode === 0) {\r\n\r\n            const { id, login, email } = res.data.data;\r\n            dispatch(setUserDataAC(id, login, email, true));\r\n        }\r\n    }\r\n}\r\n\r\nexport const logInUser = (email, password, rememberMe) => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const res = await authAPI.logInUser(email, password, rememberMe)\r\n\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setUserData());\r\n        } else {\r\n\r\n            const message = res.data.messages.length > 0\r\n                ? res.data.messages[0]\r\n                : \"Ooops, some error\"\r\n\r\n            dispatch(stopSubmit(\"login\", { _error: message }));\r\n        }\r\n    }\r\n}\r\n\r\nexport const logOutUser = () => {\r\n\r\n    return async (dispatch) => {\r\n\r\n        const res = await authAPI.logOutUser()\r\n\r\n        if (res.data.resultCode === 0) {\r\n            dispatch(setUserDataAC(null, null, null, false));\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default authReducer;","import React, { Component } from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logOutUser } from '../../redux/authReducer';\r\n\r\n\r\nclass HeaderContainer extends Component {\r\n\r\n    render() {\r\n        return <Header auth={this.props.auth}\r\n            logOutUser={this.props.logOutUser} />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        auth: state.auth\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, { logOutUser })(HeaderContainer);","import React from 'react';\r\n\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { Input } from '../../common/FormsControls/FormsControls';\r\nimport { required } from '../../../utils/validators/validators';\r\n\r\nimport s from '../../../components/common/FormsControls/FormsControls.module.css'\r\n\r\nlet LoginForm = ({ handleSubmit, error }) => {\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            {error &&\r\n                <div className={s.errorBlock}>\r\n                    {error}\r\n                </div>\r\n            }\r\n            <span>\r\n                <Field name='email' component={Input}\r\n                    placeholder={'Login'} validate={required} />\r\n            </span>\r\n            <span>\r\n                <Field name='password' component={Input}\r\n                    placeholder='Password' validate={required}\r\n                    type='password' />\r\n            </span>\r\n            <div>\r\n                <label>\r\n                    remember me\r\n                    <Field name='rememberMe' component={Input} type='checkbox' />\r\n                </label>\r\n            </div>\r\n\r\n            <button>Log in</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nexport default LoginForm = reduxForm({ form: 'login' })(LoginForm)\r\n","import React from 'react';\r\nimport LoginForm from './LoginForm/LoginForm';\r\nimport { connect } from 'react-redux';\r\nimport { logInUser } from '../../redux/authReducer';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst Login = ({ logInUser, isAuth }) => {\r\n\r\n    const onSubmit = ({ email, password, rememberMe }) => {\r\n        logInUser(email, password, rememberMe);\r\n    }\r\n\r\n    if (isAuth) {\r\n        return <Redirect to='/profile' />\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>Please sign in</h1>\r\n            <LoginForm onSubmit={onSubmit} />\r\n        </div>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps, { logInUser })(Login);\r\n\r\n","import { setUserData } from \"./authReducer\";\r\n\r\nconst SET_INITIALIZED = 'app/SET_INITIALIZED';\r\n\r\nconst initialState = {\r\n    initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_INITIALIZED:\r\n\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setInitializedAC = () => {\r\n    return { type: SET_INITIALIZED }\r\n}\r\n\r\nexport const initializeApp = () => {\r\n\r\n    return (dispatch) => {\r\n\r\n        let promise = dispatch(setUserData());\r\n\r\n        promise.then(() => {\r\n            dispatch(setInitializedAC());\r\n        })\r\n    }\r\n}\r\n\r\nexport default appReducer;","\r\nconst initialState = {\r\n\r\n    friends: [\r\n        { id: 1, photo: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSLdL6lKDCM-MaoUFy-2Jbnz2IXxYtY7FpLKHf_aB-TUFZDlMJr', name: 'Артем' },\r\n        { id: 2, photo: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSLdL6lKDCM-MaoUFy-2Jbnz2IXxYtY7FpLKHf_aB-TUFZDlMJr', name: 'Маша' },\r\n        { id: 3, photo: 'https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSLdL6lKDCM-MaoUFy-2Jbnz2IXxYtY7FpLKHf_aB-TUFZDlMJr', name: 'Катя' }\r\n    ]\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default sidebarReducer;","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport sidebarReducer from \"./sidebarReducer\";\r\nimport usersReducer from \"./usersReducer\";\r\nimport authReducer from \"./authReducer\";\r\nimport { reducer as formReducer } from 'redux-form';\r\nimport appReducer from \"./appReducer\";\r\n\r\nimport thunk from \"redux-thunk\";\r\n\r\nconst reducers = combineReducers({\r\n\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n}\r\n);\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunk)));\r\n\r\n// const store = createStore(reducers, applyMiddleware(thunk));\r\n\r\nexport default store;","import React, { Suspense } from 'react';\r\nimport { Spin } from 'antd';\r\n\r\nexport const withLazySuspense = (Component) => {\r\n\r\n    return (props) => {\r\n\r\n        return (\r\n            <Suspense fallback={<Spin size='large' />}>\r\n                <Component {...props} />\r\n            </Suspense>\r\n        );\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport './App.css';\r\nimport 'antd/dist/antd.css';\r\n\r\nimport Navbar from './components/Navbar/Navbar';\r\nimport { Route, withRouter } from 'react-router-dom';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport { compose } from 'redux';\r\nimport { Spin } from 'antd';\r\nimport store from './redux/reduxStore';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { withLazySuspense } from './hoc/withLazySuspense';\r\n\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\n\r\nclass App extends Component {\r\n\r\n  componentDidMount() {\r\n    this.props.initializeApp()\r\n  }\r\n\r\n  render() {\r\n\r\n    if (!this.props.initialized) {\r\n      return <Spin size='large' />\r\n    }\r\n\r\n    return (\r\n\r\n      <div className='app-wrapper'>\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"app-wrapper-content\">\r\n\r\n          <Route path='/profile/:userId?' render={withLazySuspense(ProfileContainer)}\r\n          />\r\n\r\n          <Route path='/dialogs' render={withLazySuspense(DialogsContainer)}\r\n          />\r\n\r\n          <Route path='/users' render={() =>\r\n            <UsersContainer />}\r\n          />\r\n\r\n          <Route path='/login' render={() =>\r\n            <Login />}\r\n          />\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    initialized: state.app.initialized\r\n  }\r\n}\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App);\r\n\r\nconst MainApp = (props) => {\r\n  return <BrowserRouter>\r\n    <Provider store={store}>\r\n      <AppContainer />\r\n    </Provider>\r\n  </BrowserRouter>\r\n}\r\nexport default MainApp;  ","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport MainApp from './App';\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n    <MainApp />,\r\n    document.getElementById('root')\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__EnI5u\",\"error\":\"FormsControls_error__bPcwt\",\"errorBlock\":\"FormsControls_errorBlock__n2ibu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__7Fiq4\",\"loginBlock\":\"Header_loginBlock__2tf97\",\"userName\":\"Header_userName__n-GM1\",\"logout\":\"Header_logout__8ARQ0\"};"],"sourceRoot":""}